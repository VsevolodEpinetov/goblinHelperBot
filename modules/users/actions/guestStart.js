const { Composer, Markup } = require("telegraf");
const util = require('../../util');
const { t } = require('../../../modules/i18n');

module.exports = Composer.action('guestStart', async (ctx) => {
  const welcomeMessage = `üéâ <b>–î–û–ë–†–û –ü–û–ñ–ê–õ–û–í–ê–¢–¨ –í GOBLIN HELPER BOT!</b>\n\n` +
    `ü§ñ <b>–ß—Ç–æ —ç—Ç–æ –∑–∞ –±–æ—Ç:</b>\n` +
    `Goblin Helper Bot - –≤–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω–æ–º—É –∫–æ–Ω—Ç–µ–Ω—Ç—É, –∫–∏–∫—Å—Ç–∞—Ä—Ç–µ—Ä–∞–º –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º.\n\n` +
    `üéØ <b>–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</b>\n` +
    `‚Ä¢ üìÖ <b>–ú–µ—Å—è—á–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏</b> - –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–Ω—Ç—É –º–µ—Å—è—Ü–∞\n` +
    `‚Ä¢ ‚≠ê <b>‚ûï –ü–æ–¥–ø–∏—Å–∫–∏</b> - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø —Å –±–æ–Ω—É—Å–∞–º–∏\n` +
    `‚Ä¢ üöÄ <b>–ö–∏–∫—Å—Ç–∞—Ä—Ç–µ—Ä—ã</b> - —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã\n` +
    `‚Ä¢ üéü <b>–ë–∏–ª–µ—Ç–∏–∫–∏</b> - –±–æ–Ω—É—Å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏\n` +
    `‚Ä¢ üí∞ <b>–ë–∞–ª–∞–Ω—Å</b> - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏\n\n` +
    `üí° <b>–ö–∞–∫ –Ω–∞—á–∞—Ç—å:</b>\n` +
    `1. –û–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏\n` +
    `2. –ü–æ–¥–∞–π—Ç–µ –∑–∞—è–≤–∫—É –Ω–∞ —É—á–∞—Å—Ç–∏–µ\n` +
    `3. –ü–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —Ñ—É–Ω–∫—Ü–∏—è–º\n\n` +
    `üöÄ <b>–ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å?</b>`;

  const welcomeKeyboard = [
    [Markup.button.callback('üìã –ü—Ä–∞–≤–∏–ª–∞', 'showRules')],
    [Markup.button.callback('üìù –ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É', 'applyInit')],
    [Markup.button.callback('‚ùì –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ?', 'showWhatIs')],
    [Markup.button.callback('üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞', 'contactSupport')]
  ];

  await ctx.editMessageText(welcomeMessage, {
    parse_mode: 'HTML',
    ...Markup.inlineKeyboard(welcomeKeyboard)
  });
});
